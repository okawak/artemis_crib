<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.132.1">
    <meta name="generator" content="Relearn 6.1.1">
    <meta name="description" content="last modified: 2024-07-22 by Kodai Okawa Using the defined reactions (TNBodyReactionProcessor) and geometry (TUserGeoInitialiser) so far, it is possible to determine whether the particles enter the detector after the reaction and to simulate the parameters obtained.">
    <meta name="author" content="Kodai Okawa">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Detect particles :: CRIB artemis">
    <meta name="twitter:description" content="last modified: 2024-07-22 by Kodai Okawa Using the defined reactions (TNBodyReactionProcessor) and geometry (TUserGeoInitialiser) so far, it is possible to determine whether the particles enter the detector after the reaction and to simulate the parameters obtained.">
    <meta property="og:url" content="https://okawak.github.io/artemis_crib/example/simulation/detect_particle/index.html">
    <meta property="og:site_name" content="CRIB artemis">
    <meta property="og:title" content="Detect particles :: CRIB artemis">
    <meta property="og:description" content="last modified: 2024-07-22 by Kodai Okawa Using the defined reactions (TNBodyReactionProcessor) and geometry (TUserGeoInitialiser) so far, it is possible to determine whether the particles enter the detector after the reaction and to simulate the parameters obtained.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Example">
    <meta property="article:published_time" content="2023-08-25T18:46:55+09:00">
    <meta property="article:modified_time" content="2024-07-22T18:58:52+09:00">
    <meta itemprop="name" content="Detect particles :: CRIB artemis">
    <meta itemprop="description" content="last modified: 2024-07-22 by Kodai Okawa Using the defined reactions (TNBodyReactionProcessor) and geometry (TUserGeoInitialiser) so far, it is possible to determine whether the particles enter the detector after the reaction and to simulate the parameters obtained.">
    <meta itemprop="datePublished" content="2023-08-25T18:46:55+09:00">
    <meta itemprop="dateModified" content="2024-07-22T18:58:52+09:00">
    <meta itemprop="wordCount" content="312">
    <title>Detect particles :: CRIB artemis</title>
    <link href="https://okawak.github.io/artemis_crib/example/simulation/detect_particle/index.html" rel="canonical" type="text/html" title="Detect particles :: CRIB artemis">
    <link href="/artemis_crib/example/simulation/detect_particle/index.xml" rel="alternate" type="application/rss+xml" title="Detect particles :: CRIB artemis"><link rel="icon" href="/artemis_crib/images/crib_overlay.png" type="image/png">

    <link href="/artemis_crib/css/fontawesome-all.min.css?1723617060" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/artemis_crib/css/fontawesome-all.min.css?1723617060" rel="stylesheet"></noscript>
    <link href="/artemis_crib/css/nucleus.css?1723617060" rel="stylesheet">
    <link href="/artemis_crib/css/auto-complete.css?1723617060" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/artemis_crib/css/auto-complete.css?1723617060" rel="stylesheet"></noscript>
    <link href="/artemis_crib/css/perfect-scrollbar.min.css?1723617060" rel="stylesheet">
    <link href="/artemis_crib/css/fonts.css?1723617060" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/artemis_crib/css/fonts.css?1723617060" rel="stylesheet"></noscript>
    <link href="/artemis_crib/css/theme.css?1723617060" rel="stylesheet">
    <link href="/artemis_crib/css/theme-CRIB-theme.css?1723617060" rel="stylesheet" id="R-variant-style">
    <link href="/artemis_crib/css/chroma-relearn-dark.css?1723617060" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/artemis_crib/css/variant.css?1723617060" rel="stylesheet">
    <link href="/artemis_crib/css/print.css?1723617060" rel="stylesheet" media="print">
    <link href="/artemis_crib/css/format-print.css?1723617060" rel="stylesheet">
    <script src="/artemis_crib/js/variant.js?1723617060"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/okawak.github.io\/artemis_crib';
      window.index_js_url="/artemis_crib/index.search.js?1723617060";
      // variant stuff
      window.variants && variants.init( [ 'CRIB-theme', 'zen-dark', 'learn', 'relearn-dark' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
 

<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=G-MZF67K577Y"
></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "G-MZF67K577Y");
</script>
 

  </head>
  <body class="mobile-support print" data-url="/artemis_crib/example/simulation/detect_particle/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/artemis_crib/example/index.html"><span itemprop="name">Example</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/artemis_crib/example/simulation/index.html"><span itemprop="name">MC Simulation</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Detect particles</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/artemis_crib/example/simulation/geometry/index.html" title="Geometry (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/artemis_crib/example/simulation/solidangle/index.html" title="Solidangle (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="detect-particles">Detect particles</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2024-07-22 by Kodai Okawa</span></span>
<p>Using the defined reactions (TNBodyReactionProcessor) and geometry (TUserGeoInitialiser) so far,
it is possible to determine whether the particles enter the detector after the reaction and to simulate the parameters obtained.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">detector_proc</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">art::TDetectParticleProcessor</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">parameter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">InputCollection</span><span class="p">:</span><span class="w"> </span><span class="l">products</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">InputTrackCollection</span><span class="p">:</span><span class="w"> </span><span class="l">track</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">OutputCollection</span><span class="p">:</span><span class="w"> </span><span class="l">detects</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># target information (use if gas target)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">TargetIsGas</span><span class="p">:</span><span class="w"> </span><span class="cp">*target_is_gas</span><span class="w"> </span><span class="c"># true -&gt; gas target</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">TargetName</span><span class="p">:</span><span class="w"> </span><span class="cp">*target_name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">TargetPressure</span><span class="p">:</span><span class="w"> </span><span class="cp">*target_pressure</span><span class="w"> </span><span class="c"># Torr (used for gas target)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">EnergyResolution</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="m">0.0</span><span class="p">]</span><span class="w"> </span><span class="c"># x 100 = %, det id = 0, 1, ..</span></span></span></code></pre></div><ul>
<li><code>products</code> is an array object of produced ions [id=0 ion, id=1 ion&hellip;]</li>
<li><code>detects</code> is an array object of detected ions [id=0 ion, id=1 ion&hellip;]</li>
</ul>
<h2 id="example-of-the-output">Example of the output</h2>
<p>We will show an example of a simulation performed for a <strong>gas target case</strong>, and resolution = 0.0.</p>
<p>First, this is a figure of the detected position of light particle.
We defined five telescopes in this example, and we can clearly see the position of the detectors.
If we focus on heavy particle, we cannot see the position distribution because all ions are stopped in the gas target.</p>
<figure><img src="/artemis_crib/example/simulation/detect_particle/reac_pos.png" width="400">
</figure>

<p>As an example, we will show you figures of a telescope with the largest angle.
Here is dE-E plots.</p>
<figure><img src="/artemis_crib/example/simulation/detect_particle/dee.png" width="400">
</figure>

<p>The relationship between energy and timing is like this.</p>
<figure><img src="/artemis_crib/example/simulation/detect_particle/et.png" width="400">
</figure>

<p>Also, here is the angular distribution of the LAB system.</p>
<figure><img src="/artemis_crib/example/simulation/detect_particle/angle.png" width="400">
</figure>

<h2 id="summary">Summary</h2>
<p>The processor created by <a href="https://github.com/okawak" rel="external" target="_blank">okawak</a> allows simple simulations to be performed without creating new sources,
if the following conditions are met.</p>
<ul>
<li>use latest version of artemis_crib</li>
<li>properly install and link <a href="https://www.cns.s.u-tokyo.ac.jp/gitlab/hayakawa/tsrim" rel="external" target="_blank">TSrim</a> library</li>
<li>the target is registered the TSrim library</li>
<li>relatively low energy (some parts use classical kinematics)</li>
<li>the shape of the detectors is square (may update?)</li>
</ul>
<p>There are only two files that need to be prepared for the simulation.</p>
<ul>
<li><code>prm/geo/hoge.yaml</code> -&gt; define detector configuration (example <a href="https://github.com/okawak/artemis_crib/blob/main/prm/geo/si26a.yaml" rel="external" target="_blank">prm/geo/si26a.yaml</a>)
<ul>
<li>It is useful to make symbolic link to <code>current</code></li>
</ul>
</li>
<li><code>steering/huga.yaml</code> -&gt; define simulation parameters (example <a href="https://github.com/okawak/artemis_crib/blob/main/steering/simNBodyReaction.yaml" rel="external" target="_blank">steering/simNBodyReaction.yaml</a>)</li>
</ul>

            <footer class="footline">
              <i class='fa-fw fas fa-user'></i> <a href="mailto:kodak2022@outlook.jp">okawak</a>
              <i class='fa-fw fas fa-calendar'></i> Jul 22, 2024
            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="/artemis_crib/js/clipboard.min.js?1723617060" defer></script>
    <script src="/artemis_crib/js/perfect-scrollbar.min.js?1723617060" defer></script>
    <script>
      function useMathJax( config ){
        window.MathJax = Object.assign( window.MathJax || {}, {
          tex: {
            inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
            displayMath: [['\\[', '\\]'], ['$$', '$$']], 
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/artemis_crib/js/theme.js?1723617060" defer></script>
  </body>
</html>
