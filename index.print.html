<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.120.1">
    <meta name="generator" content="Relearn 5.22.0+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="">
    <meta name="author" content="Kodai Okawa">
    <title></title><link rel="icon" href="/artemis_crib/images/crib_overlay.png" type="image/png">

    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/artemis_crib/css/fontawesome-all.min.css?1698742181" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/artemis_crib/css/fontawesome-all.min.css?1698742181" rel="stylesheet"></noscript>
    <link href="/artemis_crib/css/nucleus.css?1698742181" rel="stylesheet">
    <link href="/artemis_crib/css/auto-complete.css?1698742181" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/artemis_crib/css/auto-complete.css?1698742181" rel="stylesheet"></noscript>
    <link href="/artemis_crib/css/perfect-scrollbar.min.css?1698742181" rel="stylesheet">
    <link href="/artemis_crib/css/fonts.css?1698742181" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/artemis_crib/css/fonts.css?1698742181" rel="stylesheet"></noscript>
    <link href="/artemis_crib/css/theme.css?1698742181" rel="stylesheet">
    <link href="/artemis_crib/css/theme-artemis_crib.css?1698742181" rel="stylesheet" id="R-variant-style">
    <link href="/artemis_crib/css/variant.css?1698742181" rel="stylesheet">
    <link href="/artemis_crib/css/print.css?1698742181" rel="stylesheet" media="print">
    <link href="/artemis_crib/css/format-print.css?1698742181" rel="stylesheet">
    <link href="/artemis_crib/css/ie.css?1698742181" rel="stylesheet">
    <script src="/artemis_crib/js/url.js?1698742181"></script>
    <script src="/artemis_crib/js/variant.js?1698742181"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="/artemis_crib/index.search.js";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_Reset_view = 'Reset view';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/okawak.github.io\/artemis_crib/';
      window.variants && variants.init( [ 'artemis_crib' ] );
    </script>

  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MZF67K577Y"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-MZF67K577Y');
  </script>
  


  </head>
  <body class="mobile-support print" data-url="/artemis_crib/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
              <button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)">
                <i class="fa-fw fas fa-bars"></i>
              </button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList">
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable home" tabindex="-1">
        <div class="flex-block-wrapper">
          <section>
            <h1 class="a11y-only">Subsections of </h1>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">Chapter 1</div>
<h1 id="installation">Installation</h1>

<p>This chapter describes how to set up the artemis environment for the CRIB experiment.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Installation</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="requirements">Requirements</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-10-29 by Kodai Okawa</span></span>
<p>The following machines have been tested for operation.</p>
<h3 id="1-writers-okawas-machine">1. Writer&rsquo;s (Okawa&rsquo;s) machine</h3>
<ul>
<li>Almalinux 9.2</li>
<li>zsh 5.8</li>
<li>gcc 11.3.1</li>
<li>cmake 3.20.2</li>
<li>ROOT 6.28/04</li>
<li>yaml-cpp 0.7.0</li>
</ul>
<h3 id="2-cribs-analysis-machine">2. CRIB&rsquo;s analysis machine</h3>
<ul>
<li>CentOS Linux release 7.9.2009 (Core)</li>
<li>zsh 5.5.1</li>
<li>gcc 9.3.1 (using devtoolset-9)</li>
<li>cmake 3.28 (install manually)</li>
<li>ROOT 6.28/06</li>
<li>yaml-cpp 0.8.0</li>
</ul>
<hr>
<p>NOTE:</p>
<ul>
<li>From 2023/10, Ubuntu system is also avaliable. (<a href="https://github.com/artemis-dev/artemis/pull/48" target="_blank">issue48</a>)</li>
<li>Scripts for some automate operation are written in <code>zsh</code> format.</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="cmake">Cmake</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-10-29 by Kodai Okawa</span></span>
<p>Generally, <code>dnf install cmake</code> or <code>brew install cmake</code> support latest version of the cmake, but for some older machine like CentOS 7, it is too old to install ROOT.</p>
<p>The latest ROOT require CMake 3.16 or higher, and if your system doesn&rsquo;t support this version, you need to install manually.</p>
<p>You can get more information from <a href="https://github.com/Kitware/Cmake" target="_blank">here</a>.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git clone https://github.com/Kitware/Cmake.git
</span></span><span style="display:flex;"><span>cd Cmake
</span></span><span style="display:flex;"><span>./bootstrap
</span></span><span style="display:flex;"><span>make -j8
</span></span><span style="display:flex;"><span>sudo make install</span></span></code></pre></div><p>If you want to set the version, you can change the branch.
The default branch is <code>master</code>.</p>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="root">Root</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-10-29 by Kodai Okawa</span></span>
<p>Artemis uses <a href="https://root.cern/" target="_blank">ROOT library</a>.</p>
<p>We confirmed that version 6.28 of the ROOT will work well, but if the ROOT updates, we are not sure that the ARTEMIS will work well,
so we recommend to build from the sources.</p>
<p>For detailded information, please refer <a href="https://root.cern/install/" target="_blank">Installing ROOT</a>
Recommendations are described below.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># The latest stable branch gets updated automatically on each release.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># You may update your local copy by issuing a `git pull` command from within `root_src/`.</span>
</span></span><span style="display:flex;"><span>cd hoge <span style="color:#75715e"># where you want to install ROOT</span>
</span></span><span style="display:flex;"><span>git clone --branch latest-stable --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> https://github.com/root-project/root.git root_src
</span></span><span style="display:flex;"><span>mkdir root_build root_install <span style="color:#f92672">&amp;&amp;</span> cd root_build
</span></span><span style="display:flex;"><span>cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>../root_install ../root_src <span style="color:#75715e"># &amp;&amp; check cmake configuration output for warnings or errors</span>
</span></span><span style="display:flex;"><span>cmake --build . -- install -j4 <span style="color:#75715e"># if you have 4 cores available for compilation</span>
</span></span><span style="display:flex;"><span>source ../root_install/bin/thisroot.sh <span style="color:#75715e"># or thisroot.{fish,csh}</span></span></span></code></pre></div><p>If there are any problems at the compile, additional packages may need to be installed.
See also <a href="https://root.cern/install/dependencies/" target="_blank">dependencies</a>.</p>

<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>If errors related to xrootd, TBB and clad occur, the cmake options <code>-Dxrootd=OFF</code>, <code>-Dimt=OFF</code> and <code>-Dclad=OFF</code> may work respectively.</p>
</div>
</div>
<p><code>source thisroot.sh</code> part will be written in thisartemis.sh (this is created after artemis installation),
but before installing artemis, you need to type this once.</p>
<p>after completing the installation of the artemis, you don&rsquo;t have to execute this command for each time.</p>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="yaml-cpp">Yaml-cpp</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-10-29 by Kodai Okawa</span></span>
<p>Current version of the artemis use yaml-cpp-0.7.
If your package system (like <code>apt</code> or <code>dnf</code>) cannot install version 0.7, please install from the source.</p>
<p>See also <a href="https://github.com/jbeder/yaml-cpp" target="_blank">Github repo</a> and <a href="https://github.com/artemis-dev/artemis/blob/develop/README.md" target="_blank">README of the artemis</a>
Please install it as a shared object like below commands.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd path/to/the/directory/you/want/to/install/yaml-cpp
</span></span><span style="display:flex;"><span>git clone https://github.com/jbeder/yaml-cpp.git
</span></span><span style="display:flex;"><span>cd yaml-cpp
</span></span><span style="display:flex;"><span>mkdir build <span style="color:#f92672">&amp;&amp;</span> cd build
</span></span><span style="display:flex;"><span>cmake -DYAML_BUILD_SHARED_LIBS<span style="color:#f92672">=</span>ON -DBUILD_TESTING<span style="color:#f92672">=</span>OFF ..
</span></span><span style="display:flex;"><span>make
</span></span><span style="display:flex;"><span>sudo make install</span></span></code></pre></div><p>Default install path is <code>/usr/local/lib</code> or <code>/usr/local/lib64</code>.
If you do not want to pollute the general environment, specify <code>CMAKE_INSTALL_PREFIX</code> and set <strong>PATH</strong> environment variable.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>/foo/bar -DYAML_BUILD_SHARED_LIBS<span style="color:#f92672">=</span>ON -DBUILD_TESTING<span style="color:#f92672">=</span>OFF ..</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/crib/index.html">CRIB</a>
</div>
            </header>
<h1 id="artemis">Artemis</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-10-29 by Kodai Okawa</span></span>
<p>From the current situation, CRIB experiment doesn&rsquo;t use GET system,
so we describe how to install it without linking it to GET decoder.</p>
<p>Also, it can link to <code>openMPI</code>, but the below commands assume not using openMPI.
See <a href="https://github.com/artemis-dev/artemis/blob/develop/README.md" target="_blank">artemis repo</a> for more information.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd hoge
</span></span><span style="display:flex;"><span>git clone https://github.com/artemis-dev/artemis.git -b develop
</span></span><span style="display:flex;"><span>cd artemis
</span></span><span style="display:flex;"><span>mkdir build
</span></span><span style="display:flex;"><span>cd build
</span></span><span style="display:flex;"><span>cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>../install ..
</span></span><span style="display:flex;"><span>make -j8
</span></span><span style="display:flex;"><span>make install
</span></span><span style="display:flex;"><span>source ../install/bin/thisartemis.sh</span></span></code></pre></div><p>Then, <code>&lt;CMAKE_INSTALL_PREFIX&gt;/bin/thisartemis.sh</code> will be created
and this shell script can configure the environment (ROOT, yaml-cpp, artemis libraries) to use artemis.</p>
<p>(It means you don&rsquo;t have to write like <code>export PATH=${yaml-cpp path}:$PATH</code> or <code>source thisroot.sh</code> in .zshrc or .bashrc.)</p>
<p>Another option is to use <code>module</code> command to manage the environment.
It is also written in <a href="https://github.com/artemis-dev/artemis/blob/develop/README.md" target="_blank">artemis repo</a>.</p>
<hr>

<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Note</div>
  <div class="box-content">

<p>This is 2023/10/29 current information</p>
</div>
</div>
<p>Okawa think there is a grammatical error in the <strong>sources/main/thisartemis.sh.in</strong>, so I changed like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-diff" data-lang="diff"><span style="display:flex;"><span><span style="color:#f92672">-if [ &#34;@BUILD_GET@&#34; == &#34;ON&#34; ]; then
</span></span></span><span style="display:flex;"><span><span style="color:#f92672"></span><span style="color:#a6e22e">+if [[ &#34;@BUILD_GET@&#34; == &#34;ON&#34; ]]; then
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e"></span>     export LD_LIBRARY_PATH=@GET_LIB_DIR@:$LD_LIBRARY_PATH
</span></span><span style="display:flex;"><span> fi
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">-if [ &#34;@MPI_CXX_FOUND@&#34; == &#34;TRUE&#34; ]; then
</span></span></span><span style="display:flex;"><span><span style="color:#f92672"></span><span style="color:#a6e22e">+if [[ &#34;@MPI_CXX_FOUND@&#34; == &#34;TRUE&#34; ]]; then
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e"></span>     dir=@MPI_CXX_LIBRARIES@
</span></span><span style="display:flex;"><span>     libdir=&#34;$(dirname $dir)&#34;
</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/crib/index.html">CRIB</a>
</div>
            </header>
<h1 id="mount-setting">Mount setting</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-10-30 by Kodai Okawa</span></span>
<p>For the convinience, we use one directory to store raw data (ridf files) and make symbolic link to each user work directory.
So first, we need to make raw data directory.</p>
<p>There are three option to do so.</p>
<ol>
<li>use the default SSD/HDD of analysis PC</li>
<li>use the external SSD/HDD of analysis PC (need to mount it)</li>
<li>use network file system (NFS) and mount it</li>
</ol>
<p>1 and 2 options are mainly used for offline analysis, while 3 option is used for online analysis.</p>
<h3 id="1-use-the-default-ssdhdd-of-analysis-pc">1. use the default SSD/HDD of analysis PC</h3>
<p>If you have large size of main storage, the one option is easiest way.
Just like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd ~
</span></span><span style="display:flex;"><span>mkdir data <span style="color:#f92672">(</span>or where you want to put<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>cd data
</span></span><span style="display:flex;"><span>rsync hoge <span style="color:#f92672">(</span>cp or scp to put the raw data<span style="color:#f92672">)</span></span></span></code></pre></div><p>The symbolic link process will be done in the next process.</p>
<h3 id="2-use-the-external-ssdhdd-of-analysis-pc-need-to-mount-it">2. use the external SSD/HDD of analysis PC (need to mount it)</h3>
<p>When your main storage is not so large, you may think to use external storage.
For example, main storage is used for OS installation and external storage is used for experimental data.
(I think this case is for personal analysis using your own PC.)</p>
<p>In that case, you need to do:</p>
<ol>
<li>mount the external storage</li>
<li>check and set the file permission to be able to read or write it.</li>
</ol>
<p>The format and mount process is very depend on the situation, so please check the way in other place.
One important point is that we have output root file when we start to analysis, so it may need to make the directory for outputed root files in the external storage.</p>
<h3 id="3-use-network-file-system-nfs-and-mount-it">3. use network file system (NFS) and mount it</h3>
<p>For online analysis, the best option is to get the data via a file server, as there is no time to transfer the raw data files each time.</p>
<p>This is example of CRIB system.</p>

<div class="mermaid align-center">
---
title: Network system of CRIB
---
graph LR;
    A(MPV E7) --&gt; D{&lt;strong&gt;DAQ main PC&lt;/strong&gt;&lt;br&gt;&lt;/br&gt;file server}
    B(MPV1 J1) --&gt; D
    C(MPV2 J1) --&gt; D
    D --&gt; E[Analysis PC]
</div>
<p>As this figure, we use file server in the DAQ main PC.</p>
<h5 id="31-server-setting">3.1 server setting</h5>
<p>The OS of the DAQ PC is CentOS7, but I think it can be applied for current OS. (like <code>yum</code> -&gt; <code>dnf</code>)
First, please install required package.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo yum install -y rpcbind nfs-utils</span></span></code></pre></div><p>Then prepare the raw data file directory for sharing.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mkdir /data <span style="color:#f92672">(</span>any location<span style="color:#f92672">)</span> </span></span></code></pre></div><p>And setting file for nfs is <code>/etc/exports</code>, and here is the example.</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>/data 192.168.1.5
/data 192.168.2.0/24(rw)</code></pre></div><p>The first one means the host of 192.168.1.5 can access the shared directory &ldquo;/data&rdquo;.
In the default setting, users cannot write to this directory.</p>
<p>The host of the second line means the range that can access.
If we add <code>rw</code> option, users can write to this directory.
For the other options, please check <a href="https://access.redhat.com/documentation/ja-jp/red_hat_enterprise_linux/7/html/storage_administration_guide/nfs-serverconfig" target="_blank">the official site</a>.</p>
<p>Finally, the following command is used to reflect the settings.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>firewall-cmd --permanent --zone<span style="color:#f92672">=</span>public --add-service<span style="color:#f92672">=</span>nfs
</span></span><span style="display:flex;"><span>firewall-cmd --reload
</span></span><span style="display:flex;"><span>systemctl start rpcbind
</span></span><span style="display:flex;"><span>systemctl enable rpcbind
</span></span><span style="display:flex;"><span>systemctl start nfs
</span></span><span style="display:flex;"><span>systemctl enable nfs</span></span></code></pre></div><p>If you do not have a firewall set up, you do not need the relevant commands.</p>
<h5 id="32-client-setting">3.2 client setting</h5>
<p>The package is also needed for client PC.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo yum install -y nfs-utils</span></span></code></pre></div><p>Prepare the mounted directory and mount it.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mkdir /mnt/data
</span></span><span style="display:flex;"><span>sudo mount -t nfs host_IP_address:/data /mnt/data
</span></span><span style="display:flex;"><span>df -h</span></span></code></pre></div><p>If you see the mounted configuration, your nfs configuration is complete.</p>
<p>To reflect the mount settings when the system is rebooted, add a setting to <code>/etc/fstab</code>.</p>

  
<div class="tab-panel" data-tab-group="e18ae9775de21c37ed43a06ce2650c5c">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="etcfstab"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('e18ae9775de21c37ed43a06ce2650c5c','etcfstab')"
    >
      <span>
        <span class="tab-nav-hidden">/etc/fstab</span>
        <span class="tab-nav-text">/etc/fstab</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="etcfstab"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-diff" data-lang="diff"><span style="display:flex;"><span><span style="color:#a6e22e">+ host_IP_address:/data   /mnt/data   nfs   defaults   0 0
</span></span></span></code></pre></div></div>
    </div>
  </div>
</div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo mount -a</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/crib/index.html">CRIB</a>
</div>
            </header>
<h1 id="energyloss_calculator">Energyloss_calculator</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-10-30 by Kodai Okawa</span></span>
<p>Some CRIB-specific files use energy loss libraries.
In particular, a library called <a href="https://github.com/okawak/SRIMlib" target="_blank">SRIMlib</a> has been developed by Okawa and contains settings to load this library.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>git clone https://github.com/okawak/SRIMlib.git
</span></span><span style="display:flex;"><span>cd SRIMlib
</span></span><span style="display:flex;"><span>mkdir build
</span></span><span style="display:flex;"><span>cd build
</span></span><span style="display:flex;"><span>cmake ..
</span></span><span style="display:flex;"><span>make
</span></span><span style="display:flex;"><span>make install</span></span></code></pre></div><p>Before using this library, you need to make database file (just .root file)</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd ..
</span></span><span style="display:flex;"><span>source thisSRIMlib.sh
</span></span><span style="display:flex;"><span>update</span></span></code></pre></div><p>If you want to make energy loss figures, &ldquo;f&rdquo; option will work.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>update -f</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/crib/index.html">CRIB</a>
  <a class="tag-link" href="/artemis_crib/tags/unsettled/index.html">unsettled</a>
</div>
            </header>
<h1 id="art_analysis">Art_analysis</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-10-30 by Kodai Okawa</span></span>
<p>With this command, all settings are made interactively.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>curl --proto <span style="color:#e6db74">&#39;=https&#39;</span> --tlsv1.2 -sSf https://okawak.github.io/artemis_crib/installation/init.sh | sh</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">Chapter 2</div>
<h1 id="setting">Setting</h1>

<p>Lorem Ipsum.</p>

            <footer class="footline">

            </footer>
          </article>

          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">Chapter 3</div>
<h1 id="basic">Basic</h1>

<p>Lorem Ipsum.</p>

            <footer class="footline">

            </footer>
          </article>

          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">Chapter 4</div>
<h1 id="crib_parts">CRIB_parts</h1>

<p>Lorem Ipsum.</p>

            <footer class="footline">

            </footer>
          </article>

          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">Chapter 5</div>
<h1 id="processors">Processors</h1>

<p>Lorem Ipsum.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Processors</h1>
          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/data_class/index.html">data_class</a>
</div>
            </header>
<h1 id="ttelescopedata">TTelescopeData</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-08-20 by Kodai Okawa</span></span>
<p>under develop (possibly we will update this data class)</p>
<h2 id="ttelescopedata">TTelescopeData</h2>
<ul>
<li>Data members</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>TVector3 fPos; <span style="color:#75715e">// detected position (x, y, z)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// simulation: actual position
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// from data: calculated from strip ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>Int_t fXID; <span style="color:#75715e">// X strip ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Int_t fYID; <span style="color:#75715e">// Y strip ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>Double_t fdE; <span style="color:#75715e">// total energy deposit of dE detector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fE; <span style="color:#75715e">// total energy deposit of E detector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fEtotal; <span style="color:#75715e">// total energy deposit of the telescope
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>DoubleVec_t fEnergyArray; <span style="color:#75715e">// energy array of all the telescope
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// DoubleVec_t fTimingArray; // not impremented
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//===============================================================
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// no need??
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// kMAXNPARAMETER = 4 (can be settable)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Int_t fNE; <span style="color:#75715e">// number of thick E detector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fdEX; <span style="color:#75715e">// energy of the first dE detector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fdEY; <span style="color:#75715e">// energy of the seconde dE detector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fdEXTiming; <span style="color:#75715e">// timing of the first dE detector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fdEYTiming; <span style="color:#75715e">// timing of the second dE detector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>Double_t fEvec[kMAXNPARAMETER]; <span style="color:#75715e">// energy array of the E detector
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fETimingvec[kMAXNPARAMETER]; <span style="color:#75715e">// timing array of the E detector
</span></span></span></code></pre></div><ul>
<li>Methods</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>TVector3 <span style="color:#a6e22e">GetPosition</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fPos; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetPosition</span>(TVector3 vec) { fPos <span style="color:#f92672">=</span> vec; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetPosition</span>(Double_t x, Double_t y, Double_t z) { fPos.SetXYZ(x, y, z); }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Int_t <span style="color:#a6e22e">GetXID</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fXID;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetXID</span>(Int_t arg) { fXID <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>Int_t <span style="color:#a6e22e">GetYID</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fYID;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetYID</span>(Int_t arg) { fYID <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetdEX</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fdEX;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetdEX</span>(Double_t arg) { fdEX <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetdEY</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fdEY;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetdEY</span>(Double_t arg) { fdEY <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetdEXTiming</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fdEXTiming;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetdEXTiming</span>(Double_t arg) { fdEXTiming <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetdEYTiming</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fdEYTiming;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetdEYTiming</span>(Double_t arg) { fdEYTiming <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetEvec</span>(Int_t idx) <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fEvec[idx]; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetEvec</span>(Int_t idx, Double_t val) { fEvec[idx] <span style="color:#f92672">=</span> val; }
</span></span><span style="display:flex;"><span>Int_t <span style="color:#a6e22e">GetEvecSize</span>() { <span style="color:#66d9ef">return</span> fNE; }
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetETimingvec</span>(Int_t idx) <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fETimingvec[idx]; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetETimingvec</span>(Int_t idx, Double_t val) { fETimingvec[idx] <span style="color:#f92672">=</span> val; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetdE</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fdE;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetdE</span>(Double_t arg) { fdE <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetE</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fE;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetE</span>(Double_t arg) { fE <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetEtotal</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fEtotal;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetEtotal</span>(Double_t arg) { fEtotal <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DoubleVec_t <span style="color:#a6e22e">GetEnergyArray</span>() <span style="color:#66d9ef">const</span> {<span style="color:#66d9ef">return</span> fEnergyArray;}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetEnergyArray</span>(Double_t arg) { fEnergyArray.emplace_back(arg); }</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/data_class/index.html">data_class</a>
</div>
            </header>
<h1 id="treactioninfo">TReactionInfo</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-08-20 by Kodai Okawa</span></span>
<h2 id="treactioninfo">TReactionInfo</h2>
<ul>
<li>Data member</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// center of the mass system
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fEnergy; <span style="color:#75715e">// kinetic energy 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fTheta; <span style="color:#75715e">// theta
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fPhi; <span style="color:#75715e">// phi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// reaction position
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double_t fX;
</span></span><span style="display:flex;"><span>Double_t fY;
</span></span><span style="display:flex;"><span>Double_t fZ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// if you define excited statas, the information stored this value
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Int_t fExcitedID;</span></span></code></pre></div><ul>
<li>Methods</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetEnergy</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fEnergy; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetEnergy</span>(Double_t arg) { fEnergy <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetTheta</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fTheta; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetTheta</span>(Double_t arg) { fTheta <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetPhi</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fPhi; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetPhi</span>(Double_t arg) { fPhi <span style="color:#f92672">=</span> arg; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetX</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fX; }
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetY</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fY; }
</span></span><span style="display:flex;"><span>Double_t <span style="color:#a6e22e">GetZ</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fZ; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetXYZ</span>(Double_t x, Double_t y, Double_t z)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>   fX <span style="color:#f92672">=</span> x;
</span></span><span style="display:flex;"><span>   fY <span style="color:#f92672">=</span> y;
</span></span><span style="display:flex;"><span>   fZ <span style="color:#f92672">=</span> z;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Int_t <span style="color:#a6e22e">GetExID</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fExcitedID; }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetExID</span>(Int_t arg) { fExcitedID <span style="color:#f92672">=</span> arg; }</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/data_class/index.html">data_class</a>
</div>
            </header>
<h1 id="tparticleinfo">TParticleInfo</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-08-20 by Kodai Okawa</span></span>
<h2 id="tparticleinfo">TParticleInfo</h2>
<ul>
<li>Data member</li>
</ul>

  
<div class="tab-panel" data-tab-group="2af91ac550f5be6de788dbadd233b6df">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="tparticleinfocc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('2af91ac550f5be6de788dbadd233b6df','tparticleinfocc')"
    >
      <span>
        <span class="tab-nav-hidden">TParticleInfo.cc</span>
        <span class="tab-nav-text">TParticleInfo.cc</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="tparticleinfocc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span>Int_t fMassNumber; <span style="color:#75715e">// A: particle mass number
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#75715e"></span>Int_t fAtomicNumber; <span style="color:#75715e">// Z: particle atomic number
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#75715e"></span>Int_t fCharge; <span style="color:#75715e">// Q: particle charge
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>Double_t fCurrentZ; <span style="color:#75715e">// particle z position
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#75715e"></span>Double_t fEnergy; <span style="color:#75715e">// particle &#34;kinetic&#34; energy
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span>TTrack fTrack; <span style="color:#75715e">// tracking information
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span><span><span style="color:#75715e"></span>TLorentzVector fVec; <span style="color:#75715e">// relativistic momentum and energy
</span></span></span></code></pre></div></div>
    </div>
  </div>
</div><ul>
<li>Method (Getter and Setter)</li>
</ul>

  
<div class="tab-panel" data-tab-group="af361f246b09e29c167a159b99b287dd">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="tparticleinfocc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('af361f246b09e29c167a159b99b287dd','tparticleinfocc')"
    >
      <span>
        <span class="tab-nav-hidden">TParticleInfo.cc</span>
        <span class="tab-nav-text">TParticleInfo.cc</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="tparticleinfocc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetMassNumber</span>(Int_t val) { fMassNumber <span style="color:#f92672">=</span> val; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>Int_t <span style="color:#a6e22e">GetMassNumber</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fMassNumber; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetAtomicNumber</span>(Int_t val) { fAtomicNumber <span style="color:#f92672">=</span> val; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>Int_t <span style="color:#a6e22e">GetAtomicNumber</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fAtomicNumber; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetCharge</span>(Int_t val) { fCharge <span style="color:#f92672">=</span> val; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>Int_t <span style="color:#a6e22e">GetCharge</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fCharge; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetCurrentZ</span>(Double_t val) { fCurrentZ <span style="color:#f92672">=</span> val; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>Double_t <span style="color:#a6e22e">GetCurrentZ</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fCurrentZ; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetEnergy</span>(Double_t val) { fEnergy <span style="color:#f92672">=</span> val; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>Double_t <span style="color:#a6e22e">GetEnergy</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fEnergy; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetLorentzVector</span>(Double_t x, Double_t y, Double_t z, Double_t t) { fVec.SetXYZT(x, y, z, t); }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetLorentzVector</span>(TLorentzVector val) { fVec <span style="color:#f92672">=</span> val; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span>TLorentzVector <span style="color:#a6e22e">GetLorentzVector</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fVec; }
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">SetTrack</span>(Double_t x, Double_t y, Double_t z, Double_t a, Double_t b)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span>{
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span>   fTrack.SetPos(x, y, z);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span>   fTrack.SetAngle(a, b);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span>}
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span>TTrack <span style="color:#a6e22e">GetTrack</span>() <span style="color:#66d9ef">const</span> { <span style="color:#66d9ef">return</span> fTrack; }</span></span></code></pre></div></div>
    </div>
  </div>
</div>
            <footer class="footline">

            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">Chapter 6</div>
<h1 id="example">Example</h1>

<p>Lorem Ipsum.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Example</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="preparation">preparation</h1>

<p>This section explain the example of preparation by using some useful macro.</p>

<ul class="children children-li children-sort-weight">
	
</ul>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="online_analysis">online_analysis</h1>

<p>This section explain the example of the online analysis in the CRIB experiment.</p>

<ul class="children children-li children-sort-weight">
	
</ul>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="offline_analysis">offline_analysis</h1>

<p>This section explain the example of the offline analysis (some useful processors).</p>

<ul class="children children-li children-sort-weight">
	
</ul>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="simulation">Simulation</h1>

<p>This section explain the example of the simulation by using artemis.</p>

<ul class="children children-li children-sort-weight">
	
<li><a href="/artemis_crib/example/simulation/beam_generator/index.html">Beam_generator</a></li>
<li><a href="/artemis_crib/example/simulation/nbodyreaction/index.html">Nbodyreaction</a></li>
<li><a href="/artemis_crib/example/simulation/geometry/index.html">Geometry</a></li>
<li><a href="/artemis_crib/example/simulation/detect_particle/index.html">Detect_particle</a></li>
<li><a href="/artemis_crib/example/simulation/solidangle/index.html">Solidangle</a></li>
</ul>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Simulation</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="beam_generator">Beam_generator</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-09-29 by Kodai Okawa</span></span>
<p>The previous sections have described how to loop events from a <code>ridf</code> file or <code>root</code> file, but now I will describe how to generate events to use as a simulation.</p>
<p>Requirements:</p>
<ul>
<li>src-crib/simulation/TRandomBeamGenerator</li>
<li>src-crib/simulation/TTreeBeamGenerator</li>
<li>src-crib/simulation/TParticleInfo</li>
</ul>
<hr>
<p>As you know, an &ldquo;event store&rdquo; must be used to analyse the event loop.
For example, in the online analysis, we used <code>TRIDFEventStore</code>, and in the offline analysis, we used <code>TTreeEventStore</code>.</p>
<p>But when we want to simulate something, there are no data file.
In that case, we can use <code>TCounterEventStore</code> or <code>TRandomNumberEventStore</code>.</p>
<ul>
<li>TCounterEventStore: generate numbers in sequence from 0 to N.</li>
<li>TRandomNumberEventStore: generate number from 0.0 to 1.0 randomly.</li>
</ul>
<p>Here I will simply describe a simulation using TCounterEventStore.</p>

<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>As I explained in <code>CRIB_parts</code> before, in the current artemis version, the TCounterEventStore does not seem to be recognised as EventStore.
So if we use this EventStore, &ldquo;no event store&rdquo; comments will output.
I don&rsquo;t think it makes problem, so it is okay comment out the part of TLoop.cc that prints &ldquo;no event store&rdquo;.
(Possibly a problem with your environment).</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="nbodyreaction">Nbodyreaction</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-09-29 by Kodai Okawa</span></span>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="geometry">Geometry</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-09-29 by Kodai Okawa</span></span>
<p>In this page, I will explain how to determine the detecter geometry configration.</p>
<p>Requirement:</p>
<ul>
<li><a href="https://github.com/okawak/artemis_crib/blob/main/src-crib/geo/TUserGeoInitializer.h" target="_blank">src-crib/geo/TUserGeoInitializer</a></li>
<li><a href="https://github.com/okawak/artemis_crib/blob/main/src-crib/geo/TUserGeoInitializer.h" target="_blank">src-crib/geo/TDetectorParameter</a></li>
</ul>
<hr>
<p>Firstly, let&rsquo;s prepare the parameter file like this:</p>

  
<div class="tab-panel" data-tab-group="f719486ede76fbe89802b132de97adf3">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="prmgeoexampleyaml"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('f719486ede76fbe89802b132de97adf3','prmgeoexampleyaml')"
    >
      <span>
        <span class="tab-nav-hidden">prm/geo/example.yaml</span>
        <span class="tab-nav-text">prm/geo/example.yaml</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="prmgeoexampleyaml"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">material</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Vaccum</span> <span style="color:#75715e"># id=0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">atomic_mass</span>: <span style="color:#ae81ff">0.0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">atomic_num</span>: <span style="color:#ae81ff">0.0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">density</span>: <span style="color:#ae81ff">0.0</span> <span style="color:#75715e"># g/cm3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Si</span> <span style="color:#75715e"># id=1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">atomic_mass</span>: <span style="color:#ae81ff">28.084</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">atomic_num</span>: <span style="color:#ae81ff">14.0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">density</span>: <span style="color:#ae81ff">2.321</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Note: beam axis -&gt; z, upper direction -&gt; y</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">conposition</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">detector</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">tel1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">strip</span>: [<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">16</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">center_rotation</span>: [<span style="color:#ae81ff">0</span><span style="color:#ae81ff">., 0., 322.0]</span> <span style="color:#75715e"># mm</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">offset</span>: [<span style="color:#ae81ff">0</span><span style="color:#ae81ff">., 0., 0.]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">distance</span>: <span style="color:#ae81ff">244.0</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">angle</span>: -<span style="color:#ae81ff">4.0</span> <span style="color:#75715e"># deg</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">thickness</span>: [<span style="color:#ae81ff">0.02</span>, <span style="color:#ae81ff">0.301</span>, <span style="color:#ae81ff">1.494</span>, <span style="color:#ae81ff">1.486</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">material</span>: [<span style="color:#ae81ff">Si]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">tel2</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">strip</span>: [<span style="color:#ae81ff">16</span>, <span style="color:#ae81ff">16</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">center_rotation</span>: [<span style="color:#ae81ff">0</span><span style="color:#ae81ff">., 0., 322.0]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">offset</span>: [<span style="color:#ae81ff">0</span><span style="color:#ae81ff">., 0., 0.]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">distance</span>: <span style="color:#ae81ff">154.5</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">angle</span>: <span style="color:#ae81ff">27.0</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">thickness</span>: [<span style="color:#ae81ff">0.02</span>, <span style="color:#ae81ff">0.300</span>, <span style="color:#ae81ff">1.494</span>, <span style="color:#ae81ff">1.485</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">material</span>: [<span style="color:#ae81ff">Si]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">volume</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">top</span>: <span style="color:#75715e"># detector world</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">TOP</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">type</span>: <span style="color:#ae81ff">box</span> <span style="color:#75715e"># now only box is available</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">material</span>: <span style="color:#ae81ff">0</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">size</span>: [<span style="color:#ae81ff">400.0</span>, <span style="color:#ae81ff">200.0</span>, <span style="color:#ae81ff">1288.0</span>] <span style="color:#75715e"># mm</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">detector</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">tel1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">box</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">material</span>: <span style="color:#ae81ff">1</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">size</span>: [<span style="color:#ae81ff">50.0</span>, <span style="color:#ae81ff">50.0</span>, <span style="color:#ae81ff">1.0</span>] <span style="color:#75715e"># mm</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">tel2</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">type</span>: <span style="color:#ae81ff">box</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">material</span>: <span style="color:#ae81ff">1</span> 
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">size</span>: [<span style="color:#ae81ff">50.0</span>, <span style="color:#ae81ff">50.0</span>, <span style="color:#ae81ff">1.0</span>] <span style="color:#75715e"># mm</span></span></span></code></pre></div></div>
    </div>
  </div>
</div><p>There are many components to explain!
The <code>material</code> node is used to define <code>TGeoMaterial</code> and <code>TGeoMedium</code> classes.
(But they are not directly used.)
From <strong>name</strong> to <strong>density</strong> node are used to make a instance of this object.
This values are not used in the current processors.</p>
<p>The next <code>conposition</code> node define the detector configuration!
General telescopes of the CRIB experiment consist of <strong>DSSSD</strong> and <strong>SSD</strong> (single-pad),
and the node below defines the SSD of the telescope.</p>
<ul>
<li>name: Name of the telescope. For example tel1, tel2, and so on.</li>
<li>strip: X x Y strip number. It is defined as an array like [16, 32], this means X:16 strips and Y:32 strips</li>
<li>thickness: Thickness of the each layer. If there are two layer, the size of the array become two. You can add to any size. The unit is <strong>mm</strong>.</li>
<li>material: material of the each layer. The string is used in <code>SRIMlib</code> calculation. This node is defined as a array for each layer, but if it is one, the same material is applied. For example, in example.yaml, [Si] means [Si, Si, Si, Si]. (You need to prepare SRIMlib setting beforehand!)</li>
</ul>
<p>Let&rsquo;s move on to the geometry part!
The node is <code>center_rotation</code>, <code>offset</code>, <code>distance</code> and <code>angle</code>.
Please look at this figure.</p>
<figure><img src="/artemis_crib/example/simulation/geometry/../geo_example.png"/>
</figure>

<p>Please not that the center_rotation and offset are defined in (x, y, z) coordinate (-&gt; [x, y, z]), but distance and angle is scalar value.
The unit of length is <code>mm</code>, angle is <code>deg</code>.</p>

<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>The sign of the angle is defined as positive at this figure.
And generally, we set z=0 at target position. (For the gas target, we set 0 at window position.)</p>
</div>
</div>
<p>The last part is <code>volume</code> node!
In this parts, the shape of the detector will be defined by using <code>TGeoVolume</code> class.
The TGeoVolume needs <strong>name</strong>, <strong>type</strong>, <strong>material</strong> and <strong>size</strong>.
For the type, I only prepared &ldquo;box&rdquo;. (It means the code use only vol-&gt;MakeBox method.)</p>
<p>The first <code>top</code> node must be set because it defined &ldquo;detector world&rdquo;.
Generally, the material is okay to set vaccum.
And the material is defined in the <code>material</code> node, and the id (the order) can be used.
So the format is like <code>material: 0</code>.
And the size is generally set to the size of the scattering chamber, but for the safety, it is okay to set larger number.
Also the unit is <code>mm</code> and format is (x, y, z).</p>
<p>Next, at the <code>volume/detector</code> node, we can define the detector size.
Please NOTE that the name should be the same with <code>conposition/detector/name</code> node.</p>
<hr>
<p>Then, let&rsquo;s check if the parameter file can be correctly used!
Please prepare the steering file.</p>

  
<div class="tab-panel" data-tab-group="200652b690ca2f9821121bcce7492b17">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="steeringgeo_exampleyaml"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('200652b690ca2f9821121bcce7492b17','steeringgeo_exampleyaml')"
    >
      <span>
        <span class="tab-nav-hidden">steering/geo_example.yaml</span>
        <span class="tab-nav-text">steering/geo_example.yaml</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="steeringgeo_exampleyaml"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">Anchor</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">Processor</span>:
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">detector_initialize</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">type</span>: <span style="color:#ae81ff">art::TUserGeoInitializer</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">parameter</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">prm_detector</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">FileName</span>: <span style="color:#ae81ff">prm/geo/example.yaml</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">OutputTransparency</span>: <span style="color:#ae81ff">1</span></span></span></code></pre></div></div>
    </div>
  </div>
</div><p>This steering file doesn&rsquo;t use event loop.
Just we want to check the parameter file works well or not.</p>
<p>Then let&rsquo;s see in the artemis!</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>acd
</span></span><span style="display:flex;"><span>a
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-- snip --
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>artemis <span style="color:#f92672">[</span>0<span style="color:#f92672">]</span> add steering/geo_example.yaml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-- snip --
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>artemis <span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> artemis
</span></span><span style="display:flex;"><span>&gt;   <span style="color:#ae81ff">0</span> TGeoVolume TOP             Top volume
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>artemis <span style="color:#f92672">[</span>2<span style="color:#f92672">]</span></span></span></code></pre></div><p>The detector geometry object is successfully generated!
In order to check the object, please use <a href="https://github.com/okawak/artemis_crib/blob/main/src-crib/commands/TCmdDraw.cc" target="_blank">draw</a> command for example.
(It is defined only in CRIB artemis, to draw not only histogram object. This is under development.)</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>artemis <span style="color:#f92672">[</span>2<span style="color:#f92672">]</span> draw <span style="color:#ae81ff">0</span></span></span></code></pre></div><figure><img src="/artemis_crib/example/simulation/geometry/../geo_canvas.png"/>
</figure>

<p>The red box is the TOP, and the black boxes are detectors.
If the detector is placed where you expect it to be, the parameters have been successfully set!</p>
<p>In the event loop process, if you want to use the detector geometry information, you can use <code>prm_detector</code> in the steering files.
I will explain the next session!</p>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="detect_particle">Detect_particle</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-09-29 by Kodai Okawa</span></span>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="solidangle">Solidangle</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-09-29 by KodaiOkawa</span></span>
<ul>
<li>Beam_generator</li>
<li>Nbodyreaction</li>
<li>Geometry</li>
<li>Detect_particle</li>
</ul>
<p>As an application of the above four sections, I would like to explain how to calculate solid angles using Monte Carlo methods!</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
          </section>
          </section>
        </div>
      </main>
    </div>
    <script src="/artemis_crib/js/clipboard.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/perfect-scrollbar.min.js?1698742181" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/artemis_crib/js/d3/d3-color.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/d3/d3-dispatch.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/d3/d3-drag.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/d3/d3-ease.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/d3/d3-interpolate.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/d3/d3-selection.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/d3/d3-timer.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/d3/d3-transition.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/d3/d3-zoom.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/js-yaml.min.js?1698742181" defer></script>
    <script src="/artemis_crib/js/mermaid.min.js?1698742181" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="/artemis_crib/js/theme.js?1698742181" defer></script>
  </body>
</html>
