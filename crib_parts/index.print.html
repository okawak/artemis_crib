<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.121.2">
    <meta name="generator" content="Relearn 5.22.0">
    <meta name="description" content="Documentation for CRIB artemis">
    <meta name="author" content="map[name:Kodai Okawa]">
    <title>CRIB Configuration :: CRIB artemis</title>
    <link href="https://okawak.github.io/artemis_crib/crib_parts/index.html" rel="canonical" type="text/html" title="CRIB Configuration :: CRIB artemis">
    <link href="/artemis_crib/crib_parts/index.xml" rel="alternate" type="application/rss+xml" title="CRIB Configuration :: CRIB artemis"><link rel="icon" href="/artemis_crib/images/crib_overlay.png" type="image/png">

    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/artemis_crib/css/fontawesome-all.min.css?1705982812" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/artemis_crib/css/fontawesome-all.min.css?1705982812" rel="stylesheet"></noscript>
    <link href="/artemis_crib/css/nucleus.css?1705982812" rel="stylesheet">
    <link href="/artemis_crib/css/auto-complete.css?1705982812" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/artemis_crib/css/auto-complete.css?1705982812" rel="stylesheet"></noscript>
    <link href="/artemis_crib/css/perfect-scrollbar.min.css?1705982812" rel="stylesheet">
    <link href="/artemis_crib/css/fonts.css?1705982812" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/artemis_crib/css/fonts.css?1705982812" rel="stylesheet"></noscript>
    <link href="/artemis_crib/css/theme.css?1705982812" rel="stylesheet">
    <link href="/artemis_crib/css/theme-CRIB-theme.css?1705982812" rel="stylesheet" id="R-variant-style">
    <link href="/artemis_crib/css/variant.css?1705982812" rel="stylesheet">
    <link href="/artemis_crib/css/print.css?1705982812" rel="stylesheet" media="print">
    <link href="/artemis_crib/css/format-print.css?1705982812" rel="stylesheet">
    <link href="/artemis_crib/css/ie.css?1705982812" rel="stylesheet">
    <script src="/artemis_crib/js/url.js?1705982812"></script>
    <script src="/artemis_crib/js/variant.js?1705982812"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="/artemis_crib/index.search.js";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_Reset_view = 'Reset view';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/okawak.github.io\/artemis_crib/';
      window.variants && variants.init( [ 'CRIB-theme', 'relearn-auto', 'relearn-dark', 'zen-dark', 'learn' ] );
    </script>

  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-MZF67K577Y"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-MZF67K577Y');
  </script>
  


  </head>
  <body class="mobile-support print" data-url="/artemis_crib/crib_parts/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
              <button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)">
                <i class="fa-fw fas fa-bars"></i>
              </button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">CRIB Configuration</span><meta itemprop="position" content="1"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">Chapter 3</div>
<h1 id="crib-configuration">CRIB Configuration</h1>

<p>Artemis configuration varies from experiment to experiment.
We would like to explain in this chapter how they are configured and used in CRIB experiment.</p>

<ul class="children children-li children-sort-">
	
<li><a href="/artemis_crib/crib_parts/environment/index.html">Analysis environment</a></li>
<li><a href="/artemis_crib/crib_parts/onlinemode/index.html">Online-mode analysis</a></li>
<li><a href="/artemis_crib/crib_parts/userconfig/index.html">User config</a></li>
<li><a href="/artemis_crib/crib_parts/newcommand/index.html">New commands</a></li>
<li><a href="/artemis_crib/crib_parts/minor_change/index.html">Minor changes</a></li>
</ul>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of CRIB Configuration</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="analysis-environment">Analysis environment</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-12-12 by Kodai Okawa</span></span>
<p>CRIB shares the analysis environment of all experiments under one user account (username crib).
Therefore, when you want to check data from an old experiment or when several people are analysing the data, you need to log in to the same user account.</p>
<p>Of course, the analysis environment varies according to the experiment (and even different environments for different users within the same experiment!) and these have to be managed well.
The &ldquo;.bashrc/.zshrc&rdquo; and &ldquo;artlogin (artlogin2)&rdquo; commands set them up.
Currently we are using &ldquo;zsh (.zshrc)&rdquo;.</p>
<h4 id="experimental-environment">Experimental environment</h4>

  
<div class="tab-panel" data-tab-group="24eb16498174034c7ec03581a5bde357">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="bashrczshrc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('24eb16498174034c7ec03581a5bde357','bashrczshrc')"
    >
      <span>
        <span class="tab-nav-hidden">.bashrc/.zshrc</span>
        <span class="tab-nav-text">.bashrc/.zshrc</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="bashrczshrc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">EXP_NAME</span><span class="o">=</span><span class="s2">&#34;current&#34;</span> <span class="c1"># your experiment</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">EXP_NAME_OLD</span><span class="o">=</span><span class="s2">&#34;previous&#34;</span> <span class="c1"># old experiment</span></span></span></code></pre></div></div>
    </div>
  </div>
</div><p>The <code>EXP_NAME</code> is current experiment and you can enter the environment by using <code>artlogin</code> command.
At the same time, the <code>EXP_NAME_OLD</code> is the old experiment and you can use <code>artlogin2</code> command.</p>
<p>In the current version, we support two experimental environment and if you want to check other experimental data, please change <code>EXP_NAME_OLD</code>.</p>

<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div>
  <div class="box-content">

<p>When you modify &ldquo;.bashrc/.zshrc&rdquo;, all people&rsquo;s settings will change.
Therefore please do not change <code>EXP_NAME</code> as much as possible, because we want to set this environment variable as the active experiment.
If you change this, please report it so that CRIB members are aware of it.</p>
</div>
</div>

<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Commands may be created in the future to enter the environment of all experiments flexibly, not just two. (like artoldlogin {expname} {username}?)</p>
</div>
</div>
<p>Then you can enter the different analysis environment like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">&gt; artlogin <span class="o">(</span>username<span class="o">)</span>
</span></span><span class="line"><span class="cl">&gt; artlogin2 <span class="o">(</span>username<span class="o">)</span></span></span></code></pre></div><h4 id="user-environment">User environment</h4>
<p>CRIB uses a default user as well as individual analysis environments.
The username of the default user is the same with experiment name.</p>
<p>If you set the name of the experiment to &ldquo;si26a&rdquo; (<code>EXP_NAME</code>), then the username &ldquo;si26a&rdquo; will be the default user.
The user&rsquo;s environment can be entered with the &ldquo;artlogin&rdquo; command with no arguments.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">&gt; artlogin
</span></span><span class="line"><span class="cl">&gt; <span class="nb">pwd</span>
</span></span><span class="line"><span class="cl">/home/crib/art_analysis/si26a/si26a</span></span></code></pre></div><p>If you want to test something by changing files, or if you want to use your own VNC server, you can enter that environment by specifying its name as an argument.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">&gt; artlogin okawa <span class="c1"># if this is the first time to command, you will see setup comments.</span>
</span></span><span class="line"><span class="cl">&gt; <span class="nb">pwd</span>
</span></span><span class="line"><span class="cl">/home/crib/art_analysis/si26a/okawa</span></span></code></pre></div>
<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div>
  <div class="box-content">

<p>When using the default user, try to avoid using a VNC server (do not create .vncdisplay files).
The main reason for creating a default user is to analyse locally (for shifters) in the online analysis, and using a VNC server makes it impossible to view the figures locally.</p>
</div>
</div>
<h4 id="directory-structure">Directory structure</h4>
<p>The directory structure comprising artemis is as follows.
(The location of artemis itself is omitted).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">&gt; tree -L <span class="m">2</span> ~/art_analysis
</span></span><span class="line"><span class="cl">/home/crib/art_analysis
</span></span><span class="line"><span class="cl">├── current <span class="c1"># accessed by &#34;artlogin&#34;</span>
</span></span><span class="line"><span class="cl">│   ├── current <span class="c1"># default user</span>
</span></span><span class="line"><span class="cl">│   └── okawa <span class="c1"># individual user</span>
</span></span><span class="line"><span class="cl">├── previous <span class="c1"># accessed by &#34;artlogin2&#34;</span>
</span></span><span class="line"><span class="cl">│   ├── previous
</span></span><span class="line"><span class="cl">│   └── okawa
</span></span><span class="line"><span class="cl">├── old1
</span></span><span class="line"><span class="cl">│   ├── old1
</span></span><span class="line"><span class="cl">│   └── okawa
</span></span><span class="line"><span class="cl">└── old2
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># -- snip --</span></span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/crib/index.html">CRIB</a>
</div>
            </header>
<h1 id="online-mode-analysis">Online-mode analysis</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2023-12-12 by Kodai Okawa</span></span>
<p>We often use “nssta” (non-save mode start) analysis in the beam tuning.
It is not necessary to take data, but we need to check the beam condition by using artemis.
In this case, <code>TRIDFEventStore</code> can be used as online mode.</p>
<p>By default, if we don&rsquo;t add an input file name and set the SHMID (Shared Memory ID), artemis will use online mode.
However, it is necessary to use different types of steering files, one for use in online-mode and the other for use from a file, which can be complicated&hellip;</p>
<p>Therefore, the same steering file was changed to automatically go online mode when the ridf file was not present.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># from ridf files</span>
</span></span><span class="line"><span class="cl">artemis <span class="o">[</span>0<span class="o">]</span> add steering/hoge.yaml <span class="nv">NAME</span><span class="o">=</span>hoge <span class="nv">NUM</span><span class="o">=</span><span class="m">0000</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># online-mode</span>
</span></span><span class="line"><span class="cl">artemis <span class="o">[</span>0<span class="o">]</span> add steering/hoge.yaml <span class="c1"># no argument</span></span></span></code></pre></div><p>To achieve this, the original file was changed as follows.</p>

  
<div class="tab-panel" data-tab-group="29e02576e72c00f331779a177bb5d015">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="artemissourcesloopridftridfeventstorecc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('29e02576e72c00f331779a177bb5d015','artemissourcesloopridftridfeventstorecc')"
    >
      <span>
        <span class="tab-nav-hidden">artemis/sources/loop/ridf/TRIDFEventStore.cc</span>
        <span class="tab-nav-text">artemis/sources/loop/ridf/TRIDFEventStore.cc</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="artemissourcesloopridftridfeventstorecc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="ln">129</span><span class="cl">    for (Int_t i=0; i!=n;i++) {
</span></span><span class="line"><span class="ln">130</span><span class="cl">       printf(&#34;file = %s\n&#34;,fFileName[i].Data());
</span></span><span class="line"><span class="ln">131</span><span class="cl"><span class="gi">+      if(!gSystem-&gt;FindFile(&#34;.&#34;, fFileName[i])) {
</span></span></span><span class="line"><span class="ln">132</span><span class="cl"><span class="gi">+         Info(&#34;Init&#34;, &#34;No input file -&gt; Online mode&#34;);
</span></span></span><span class="line"><span class="ln">133</span><span class="cl"><span class="gi">+         fIsOnline = kTRUE;
</span></span></span><span class="line"><span class="ln">134</span><span class="cl"><span class="gi">+      }
</span></span></span><span class="line"><span class="ln">135</span><span class="cl"><span class="gi"></span>    }
</span></span></code></pre></div></div>
    </div>
  </div>
</div><h4 id="steering-file">steering file</h4>
<p>We always use SHMID=0, so it works simply by adding the following sentence.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="w">   </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">ridf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">art::TRIDFEventStore</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="nt">parameter</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="nt">OutputTransparency</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="nt">InputFiles</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">         </span>- <span class="cp">*input</span><span class="w">
</span></span></span><span class="line hl"><span class="cl"><span class="w">       </span><span class="nt">SHMID</span><span class="p">:</span><span class="w"> </span><span class="m">0</span></span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/crib/index.html">CRIB</a>
</div>
            </header>
<h1 id="user-config">User config</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2024-01-20 by Kodai Okawa</span></span>

<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div>
  <div class="box-content">

<p>still under consideration in this part!</p>
</div>
</div>
<p>CRIB often wants to customise artemis because it originally used ANAPAW and wants to perform analysis like ANAPAW.
However, we do not want to make too many changes to the source code of artemis itself, and we want to make it work in the user-defined part. (it means in the <strong>artemis work directory</strong>)</p>
<p>In particular, it is often the case that we want to create a new artemis command, but writing the command source on the work directory and registering it in <code>artemislogon.C</code> did not work somehow&hellip;</p>
<p>Also, artemislogon.C is automatically generated (from .artemislogon.C.in) by the cmake functionality, and even if this itself is changed, it will revert when cmake is redone.</p>
<p>Therefore, a file called <code>userlogon.C</code> was prepared, which only took out the user-defined part from artemislogon.C.
The following files have been modified to read this.</p>

  
<div class="tab-panel" data-tab-group="8f8f4fafb1b2a2d368cc9e95b04880ac">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="artemissourcesmaintartrintcc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('8f8f4fafb1b2a2d368cc9e95b04880ac','artemissourcesmaintartrintcc')"
    >
      <span>
        <span class="tab-nav-hidden">artemis/sources/main/TArtRint.cc</span>
        <span class="tab-nav-text">artemis/sources/main/TArtRint.cc</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="artemissourcesmaintartrintcc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="ln">14</span><span class="cl"> #include &lt;TInterpreter.h&gt;
</span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="gi">+#include &lt;TSystem.h&gt;
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="gi"></span> #include &#34;TLoopManager.h&#34;
</span></span></code></pre></div></div>
    </div>
  </div>
</div>
  
<div class="tab-panel" data-tab-group="fac3da296b785b1e8857cdc394ae37e5">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="artemissourcesmaintartrintcc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('fac3da296b785b1e8857cdc394ae37e5','artemissourcesmaintartrintcc')"
    >
      <span>
        <span class="tab-nav-hidden">artemis/sources/main/TArtRint.cc</span>
        <span class="tab-nav-text">artemis/sources/main/TArtRint.cc</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="artemissourcesmaintartrintcc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="ln">44</span><span class="cl">    TRint::ProcessLine(&#34;.x artemislogon.C&#34;);
</span></span><span class="line"><span class="ln">45</span><span class="cl"><span class="gi">+   FileStat_t info;
</span></span></span><span class="line"><span class="ln">46</span><span class="cl"><span class="gi">+   if (gSystem-&gt;GetPathInfo(&#34;userlogon.C&#34;, info)==0) {
</span></span></span><span class="line"><span class="ln">47</span><span class="cl"><span class="gi">+      TRint::ProcessLine(&#34;.x userlogon.C&#34;);
</span></span></span><span class="line"><span class="ln">48</span><span class="cl"><span class="gi">+   }
</span></span></span></code></pre></div></div>
    </div>
  </div>
</div><p>If there is a <code>userlogon.C</code> file in the work directory, it is loaded, otherwise artemis can be used as usual.</p>
<h3 id="userlogonc">userlogon.C</h3>
<p>This file can be used freely!
What we wanted to do most is to register user-defined commands, which can be done as follows.</p>

  
<div class="tab-panel" data-tab-group="0b0bcd63496394847d0a0d83b1deb5dc">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="userlogonc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('0b0bcd63496394847d0a0d83b1deb5dc','userlogonc')"
    >
      <span>
        <span class="tab-nav-hidden">userlogon.C</span>
        <span class="tab-nav-text">userlogon.C</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="userlogonc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// load user function
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="n">gROOT</span><span class="o">-&gt;</span><span class="n">ProcessLine</span><span class="p">(</span><span class="s">&#34;.L macro/UserUtil.C&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="c1">// User commands register
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="c1">// cf definition: TCatCmdFactory *cf = TCatCmdFactory::Instance();
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="n">cf</span><span class="o">-&gt;</span><span class="n">Register</span><span class="p">(</span><span class="n">TCatCmdLoopStart</span><span class="o">::</span><span class="n">Instance</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">   <span class="n">cf</span><span class="o">-&gt;</span><span class="n">Register</span><span class="p">(</span><span class="n">TCatCmdLoopStop</span><span class="o">::</span><span class="n">Instance</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">   <span class="n">cf</span><span class="o">-&gt;</span><span class="n">Register</span><span class="p">(</span><span class="k">new</span> <span class="n">art</span><span class="o">::</span><span class="n">TCmdXfitg</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="n">cf</span><span class="o">-&gt;</span><span class="n">Register</span><span class="p">(</span><span class="k">new</span> <span class="n">art</span><span class="o">::</span><span class="n">TCmdXstatus</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="n">cf</span><span class="o">-&gt;</span><span class="n">Register</span><span class="p">(</span><span class="k">new</span> <span class="n">art</span><span class="o">::</span><span class="n">TCmdXYblow</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="n">cf</span><span class="o">-&gt;</span><span class="n">Register</span><span class="p">(</span><span class="k">new</span> <span class="n">art</span><span class="o">::</span><span class="n">TCmdXblow</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="n">cf</span><span class="o">-&gt;</span><span class="n">Register</span><span class="p">(</span><span class="n">TCatCmdTCutG</span><span class="o">::</span><span class="n">Instance</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">   <span class="n">cf</span><span class="o">-&gt;</span><span class="n">Register</span><span class="p">(</span><span class="k">new</span> <span class="n">art</span><span class="o">::</span><span class="n">TCmdErase</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="n">cf</span><span class="o">-&gt;</span><span class="n">Register</span><span class="p">(</span><span class="k">new</span> <span class="n">art</span><span class="o">::</span><span class="n">TCmdDraw</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="c1">// TTree merge setting
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="n">TTree</span><span class="o">::</span><span class="n">SetMaxTreeSize</span><span class="p">(</span> <span class="mi">1000000000000LL</span> <span class="p">);</span> <span class="c1">// 1TB
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span></span></span></code></pre></div></div>
    </div>
  </div>
</div><p>The first line <code>gROOT-&gt;ProcessLine(&quot;.L macro/UserUtil.C&quot;)</code> load the user definition function.
You can add any function to the &ldquo;macro/UserUtil.C&rdquo; file, and the function to load TCutG object in &ldquo;/gate/*.root&rdquo; directory is written defaultly.
For more detail, please see <a href="/artemis_crib/crib_parts/userconfig/./newcommand">tcutg command</a> and <a href="/artemis_crib/crib_parts/userconfig/../../example/online_analysis/gate">gate</a> pages.</p>
<p>(For some reason, an error occurred when writing in artemislogon.C.)
You can also customise it in other ways to make it easier for you. For example, when creating a TTree, a setting to increase the file size limit is also included by default.</p>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/crib/index.html">CRIB</a>
</div>
            </header>
<h1 id="new-commands">New commands</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2024-01-20 by Kodai Okawa</span></span>
<p>Various commands (mainly the same with ANAPAW commands) have been developed for CRIB experiment.
For more information, please click <a href="https://github.com/okawak/artemis_crib/tree/main/src-crib/commands" target="_blank">here (src-crib/commands)</a>.
These commands are registered in userlogon.C. (See previous section.)</p>
<p>This section explains how to use them.</p>
<ul>
<li>start</li>
<li>stop</li>
<li>xfitg</li>
<li>xblow</li>
<li>xyblow</li>
<li>xstatus</li>
<li>tcutg</li>
<li>erase</li>
<li>draw</li>
</ul>
<p>the default figures:
<figure><img src="/artemis_crib/crib_parts/newcommand/default.png" width="1000"/>
</figure>
</p>
<h3 id="start">start</h3>
<p>This is exactly the same as the <code>resume</code> command, because ANAPAW starts the event loop with <code>start</code> instead of resume.</p>
<h3 id="stop">stop</h3>
<p>This is exactly the same as the <code>suspend</code> command, because ANAPAW stops the event loop with <code>stop</code> instead of suspend.</p>
<h3 id="xfitg">xfitg</h3>
<p>For <code>1D</code> histograms, by selecting the two ends of two points, the peak between them is fitted with a Gaussian.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">artemis <span class="o">[</span>7<span class="o">]</span> xf
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXfitg::Cmd&gt;: click on the lowest edge:
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXfitg::Cmd&gt;: click on the highest edge:
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXfitg::Cmd&gt;: X1: -1437.56, X2: -1419.11
</span></span><span class="line"><span class="cl"> <span class="nv">FCN</span><span class="o">=</span>81.6642 FROM MIGRAD    <span class="nv">STATUS</span><span class="o">=</span>CONVERGED      <span class="m">71</span> CALLS          <span class="m">72</span> TOTAL
</span></span><span class="line"><span class="cl">                     <span class="nv">EDM</span><span class="o">=</span>3.35095e-09    <span class="nv">STRATEGY</span><span class="o">=</span> <span class="m">1</span>      ERROR MATRIX ACCURATE
</span></span><span class="line"><span class="cl">  EXT PARAMETER                                   STEP         FIRST
</span></span><span class="line"><span class="cl">  NO.   NAME      VALUE            ERROR          SIZE      DERIVATIVE
</span></span><span class="line"><span class="cl">   <span class="m">1</span>  Constant     1.16439e+03   2.43862e+01   8.08454e-02   9.04256e-07
</span></span><span class="line"><span class="cl">   <span class="m">2</span>  Mean        -1.43081e+03   4.54001e-02   6.82262e-04  -1.74034e-03
</span></span><span class="line"><span class="cl">   <span class="m">3</span>  Sigma        2.81435e+00   4.07888e-02   1.55351e-05  -3.15946e-03
</span></span><span class="line"><span class="cl">artemis <span class="o">[</span>8<span class="o">]</span></span></span></code></pre></div><figure><img src="/artemis_crib/crib_parts/newcommand/xfitg.png" width="600"/>
</figure>

<h3 id="xblow">xblow</h3>
<p>For <code>1D</code> histograms, select both ends and crop the histogram between them.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">artemis <span class="o">[</span>10<span class="o">]</span> xblo
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXblow::Run&gt;: click on the lowest edge: 
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXblow::Run&gt;: click on the highest edge: 
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXblow::Run&gt;: X1: -1439.3, X2: -1417.37
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXblow::Run&gt;: <span class="nv">id</span> <span class="o">=</span> <span class="m">2</span> hist is created
</span></span><span class="line"><span class="cl">artemis <span class="o">[</span>11<span class="o">]</span></span></span></code></pre></div><figure><img src="/artemis_crib/crib_parts/newcommand/xblow.png" width="600"/>
</figure>

<h3 id="xyblow">xyblow</h3>
<p>For <code>2D</code> histograms, select both corners and crop the histogram between them.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">artemis <span class="o">[</span>60<span class="o">]</span> xyblo
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXYblow::Run&gt;: click on one corner: 
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXYblow::Run&gt;: X1: 9.2154, Y1: 46.6159
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXYblow::Run&gt;: click on the other corner: 
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXYblow::Run&gt;: X2: 21.7032, Y2: 23.952
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXYblow::Run&gt;: <span class="nv">id</span> <span class="o">=</span> <span class="m">6</span> hist is created
</span></span><span class="line"><span class="cl">artemis <span class="o">[</span>61<span class="o">]</span></span></span></code></pre></div><figure><img src="/artemis_crib/crib_parts/newcommand/xyblow.png" width="600"/>
</figure>

<h3 id="xstatus">xstatus</h3>
<p>For <code>2D</code> histograms, select both corners and determine the ratio of the total number of events.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">artemis <span class="o">[</span>8<span class="o">]</span> xs
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXstatus::Cmd&gt;: click on one corner: 
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXstatus::Cmd&gt;: X1: 14.1496, Y1: 41.4826
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXstatus::Cmd&gt;: click on the other corner: 
</span></span><span class="line"><span class="cl">Info in &lt;art::TCmdXstatus::Cmd&gt;: X2: 21.0941, Y2: 31.9909
</span></span><span class="line"><span class="cl">------------------
</span></span><span class="line"><span class="cl"><span class="nv">selected</span> <span class="o">=</span> 976, <span class="nv">total</span> <span class="o">=</span> <span class="m">7526</span>
</span></span><span class="line"><span class="cl"><span class="nv">ratio</span>  <span class="o">=</span> 0.129684 <span class="o">(</span>12.9684%<span class="o">)</span>
</span></span><span class="line"><span class="cl">artemis <span class="o">[</span>9<span class="o">]</span></span></span></code></pre></div><figure><img src="/artemis_crib/crib_parts/newcommand/xstatus.png" width="600"/>
</figure>

<h3 id="tcutg">tcutg</h3>
<p>For <code>2D</code> histograms, this command create TCutG object and store in a ROOT file.
If you select to save the object, the file will place to the <code>gate/*.root</code> directory.
There objects are automatically loaded. (please check <a href="/artemis_crib/crib_parts/newcommand/./userconfig">user config</a> page.)</p>
<p>This is the example how to use this command.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">artemis <span class="o">[]</span> ht something
</span></span><span class="line"><span class="cl">artemis <span class="o">[]</span> tc
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: Xaxis name : f2ppac.fX  Yaxis name : f2ppac.fY
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: When you have finished specifying the area <span class="o">(</span>last point<span class="o">)</span>, double-click on it.
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>9.050404, 10.301410<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>5.047341, -8.294592<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>-12.183236, -3.839300<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>3.306878, -15.074384<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>-3.306878, -32.120720<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>9.920635, -15.461801<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>18.274854, -29.989928<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>16.186299, -11.200217<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>35.157338, -4.420425<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>14.271791, -4.807841<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>10.964912, 9.332869<span class="o">)</span>
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: <span class="o">(</span>x, y<span class="o">)</span> <span class="o">=</span> <span class="o">(</span>10.964912, 9.332869<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> you want to save it, input the TCutG name <span class="o">[</span>name/exit<span class="o">]</span> f2star
</span></span><span class="line"><span class="cl">Info in &lt;TCatCmdTCutG::Cmd&gt;: Created gate/f2star.root</span></span></code></pre></div><figure><img src="/artemis_crib/crib_parts/newcommand/tcutg_raw.png" width="600"/>
</figure>

<p>To select an area, click on the vertices of the area you want to select, then double-click at the last vertex.
If you want to save this object, enter the &ldquo;cut&rdquo; name.
In this example, I input the <code>f2star</code> as the object name.
If you don&rsquo;t want to save, enter &ldquo;exit&rdquo;.</p>
<p>Then the <code>gate/f2star.root</code> will be created.
And after reload the artemis, the gate will be loaded automatically and we can use histogram definition and &ldquo;tree-&gt;Draw&rdquo; selection part.
For the detail please check <a href="/artemis_crib/crib_parts/newcommand/../../example/online_analysis/gate">gate</a> page.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">artemis <span class="o">[]</span> tree-&gt;Draw<span class="o">(</span><span class="s2">&#34;f2ppac.fY:f2ppac.fX&gt;&gt;(200,-50.,50., 200,-50.,50.)&#34;</span>,<span class="s2">&#34;f2star&#34;</span>,<span class="s2">&#34;colz&#34;</span><span class="o">)</span></span></span></code></pre></div><figure><img src="/artemis_crib/crib_parts/newcommand/tcutg.png" width="600"/>
</figure>

<hr>
<h2 id="---under-development---">&mdash;under development&mdash;</h2>
<h3 id="erase">erase</h3>
<h3 id="draw">draw</h3>

            <footer class="footline">

            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class="tags">
  <a class="tag-link" href="/artemis_crib/tags/crib/index.html">CRIB</a>
</div>
            </header>
<h1 id="minor-changes">Minor changes</h1>

<span class="badge cstyle default"><span class="badge-content">last modified: 2024-01-11 by Kodai Okawa</span></span>
<h3 id="thisartemisshin">thisartemis.sh.in</h3>
<p>Grammar issue I think.</p>

  
<div class="tab-panel" data-tab-group="adc13c3757a808367021ef9b8b22ec0f">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="artemissourcesmainthisartemisshin"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('adc13c3757a808367021ef9b8b22ec0f','artemissourcesmainthisartemisshin')"
    >
      <span>
        <span class="tab-nav-hidden">artemis/sources/main/thisartemis.sh.in</span>
        <span class="tab-nav-text">artemis/sources/main/thisartemis.sh.in</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="artemissourcesmainthisartemisshin"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="cl"> export LD_LIBRARY_PATH=$TARTSYS/lib:$LD_LIBRARY_PATH
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gd">-if [ &#34;@BUILD_GET@&#34; == &#34;ON&#34; ]; then
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+if [[ &#34;@BUILD_GET@&#34; == &#34;ON&#34; ]]; then
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     export LD_LIBRARY_PATH=@GET_LIB_DIR@:$LD_LIBRARY_PATH
</span></span><span class="line"><span class="cl"> fi
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gd">-if [ &#34;@MPI_CXX_FOUND@&#34; == &#34;TRUE&#34; ]; then
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+if [[ &#34;@MPI_CXX_FOUND@&#34; == &#34;TRUE&#34; ]]; then
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     dir=@MPI_CXX_LIBRARIES@
</span></span><span class="line"><span class="cl">     libdir=&#34;$(dirname $dir)&#34;
</span></span></code></pre></div></div>
    </div>
  </div>
</div><h3 id="xval-command">xval command</h3>
<p>Add cross hair.</p>

  
<div class="tab-panel" data-tab-group="0c96b6e7ee9d64f51f94634350abf157">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="artemissourcescommandstcatcmdxvalcc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('0c96b6e7ee9d64f51f94634350abf157','artemissourcescommandstcatcmdxvalcc')"
    >
      <span>
        <span class="tab-nav-hidden">artemis/sources/commands/TCatCmdXval.cc</span>
        <span class="tab-nav-text">artemis/sources/commands/TCatCmdXval.cc</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="artemissourcescommandstcatcmdxvalcc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="ln">84</span><span class="cl"> void TCatCmdXval::GetEvent()
</span></span><span class="line"><span class="ln">85</span><span class="cl"> {
</span></span><span class="line"><span class="ln">86</span><span class="cl"><span class="gi">+   dynamic_cast&lt;TPad *&gt;(gPad)-&gt;DrawCrosshair();
</span></span></span><span class="line"><span class="ln">87</span><span class="cl"><span class="gi"></span>    const int event = gPad-&gt;GetEvent();
</span></span></code></pre></div></div>
    </div>
  </div>
</div><figure><img src="/artemis_crib/crib_parts/minor_change/crosshair.png" width="600"/>
</figure>

<h3 id="pr-projection-command">pr (projection) command</h3>
<p>After the command, the projected histogram will automatically be displayed.</p>

  
<div class="tab-panel" data-tab-group="8a96a44cef5b334c5f01a199af6908e8">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="artemissourcescommandstcatcmdprcc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('8a96a44cef5b334c5f01a199af6908e8','artemissourcescommandstcatcmdprcc')"
    >
      <span>
        <span class="tab-nav-hidden">artemis/sources/commands/TCatCmdPr.cc</span>
        <span class="tab-nav-text">artemis/sources/commands/TCatCmdPr.cc</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="artemissourcescommandstcatcmdprcc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="ln">55</span><span class="cl">       if (!obj-&gt;InheritsFrom(TH2::Class())) {
</span></span><span class="line"><span class="ln">56</span><span class="cl">          // TArtCore::Info(&#34;TCatCmdPr::Run&#34;,&#34;%s is not 2D histogram&#34;,
</span></span><span class="line"><span class="ln">57</span><span class="cl">          //               obj-&gt;GetName());
</span></span><span class="line"><span class="ln">58</span><span class="cl"><span class="gi">+        Info(&#34;Run&#34;, &#34;%s is not 2D histogram&#34;, obj-&gt;GetName());
</span></span></span><span class="line"><span class="ln">59</span><span class="cl"><span class="gi"></span>          continue;
</span></span><span class="line"><span class="ln">60</span><span class="cl">       }
</span></span><span class="line"><span class="ln">61</span><span class="cl"><span class="gi">+      Int_t nid = (gDirectory-&gt;GetList())-&gt;GetEntries();
</span></span></span><span class="line"><span class="ln">62</span><span class="cl"><span class="gi"></span>       Run((TH2*) obj, opt);
</span></span><span class="line"><span class="ln">63</span><span class="cl"><span class="gi">+      Info(&#34;Run&#34;, &#34;id = %d hist is created&#34;, nid);
</span></span></span><span class="line"><span class="ln">64</span><span class="cl"><span class="gi">+      TCatHistManager::Instance()-&gt;DrawObject(nid);
</span></span></span><span class="line"><span class="ln">65</span><span class="cl"><span class="gi"></span>    }
</span></span><span class="line"><span class="ln">66</span><span class="cl">    return 1;
</span></span><span class="line"><span class="ln">67</span><span class="cl"> }
</span></span></code></pre></div></div>
    </div>
  </div>
</div><h3 id="tmoduleinfo-class">TModuleInfo class</h3>
<p>In the CRIB processor, there is a processor that inherits from TModuleInfo, <a href="https://github.com/okawak/artemis_crib/blob/main/src-crib/TModuleData.h" target="_blank">TModuleData</a>.
In the constractor of this class use <code>copy constractor</code> of TModuleInfo, but the default artemis doesn&rsquo;t implement it.
This class is used when we want to check the raw data.
For the detail, please see <a href="https://okawak.github.io/artemis_crib/example/online_analysis/check_rawdata/index.html" target="_blank">check raw data page</a>.</p>
<p>Therefore, we modified this like this:</p>

  
<div class="tab-panel" data-tab-group="348e2c1be5aa54d066da21ab4a72c399">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="artemissourceslooptmoduleinfocc"
      class="tab-nav-button tab-panel-style cstyle initial active"
      onclick="switchTab('348e2c1be5aa54d066da21ab4a72c399','artemissourceslooptmoduleinfocc')"
    >
      <span>
        <span class="tab-nav-hidden">artemis/sources/loop/TModuleInfo.cc</span>
        <span class="tab-nav-text">artemis/sources/loop/TModuleInfo.cc</span>
      </span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="artemissourceslooptmoduleinfocc"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-diff" data-lang="diff"><span class="line"><span class="ln">31</span><span class="cl">  TModuleInfo::TModuleInfo(const TModuleInfo&amp; rhs)
</span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="gi">+   : TParameterObject(rhs),
</span></span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="gi">+   fID(rhs.fID),
</span></span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="gi">+   fType(rhs.fType),
</span></span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="gi">+   fHists(nullptr)
</span></span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="gi"></span>  {
</span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="gi">+   if (rhs.fHist) {
</span></span></span><span class="line"><span class="ln">38</span><span class="cl"><span class="gi">+     fHists = new TObjArray(*(rhs.fHists));
</span></span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="gi">+   }
</span></span></span><span class="line"><span class="ln">40</span><span class="cl"><span class="gi">+
</span></span></span><span class="line"><span class="ln">41</span><span class="cl"><span class="gi">+   fRanges = rhs.fRanges;
</span></span></span><span class="line"><span class="ln">42</span><span class="cl"><span class="gi"></span>  }
</span></span></code></pre></div></div>
    </div>
  </div>
</div><!-- raw HTML omitted -->
<!-- raw HTML omitted -->

            <footer class="footline">

            </footer>
          </article>

          </section>
        </div>
      </main>
    </div>
    <script src="/artemis_crib/js/clipboard.min.js?1705982812" defer></script>
    <script src="/artemis_crib/js/perfect-scrollbar.min.js?1705982812" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/artemis_crib/js/theme.js?1705982812" defer></script>
  </body>
</html>
